{{- with .Values.services.slskd.config }}
web:
  port: 5030
  authentication:
    api_keys:
      {{- range $apiKey := .apiKeys }}
      {{ $apiKey.name }}:
        key: __SLSKD_API_KEY_{{ upper $apiKey.name }}__
        cidr: {{ $apiKey.cidr | default "0.0.0.0/0,::/0" }}
      {{- end }}

incoming:
  port: 50300

logging:
  level: Information

directories:
  incomplete: /soulseek/incomplete
  downloads: /soulseek/downloaded

{{- if .shares }}
shares:
  directories:
  {{- range $share := .shares }}
    - {{ required "containerPath is required for each share" $share.containerPath | quote }}
  {{- end }}
  filters:
    - \.DS_Store$
    - \.Spotlight-V100$
    - \.Trashes$
    - \.fseventsd$
    - \.TemporaryItems$
    - \._.*$
    - \.directory$
    - lost\+found/
    - \.git/
    - \.cache/
    - \.tmp$
    - \.temp$
    - ~$
    - \.swp$
    - \.log$
    - \.bak$
    - Thumbs\.db$
    - desktop\.ini$
{{- end }}

{{- end }}
